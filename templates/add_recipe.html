{% extends "base.html" %}
{% from "macros/forms.html" import recipe_form %}

{% block content %}
<h2>Добавить рецепт</h2>
<form method="post" enctype="multipart/form-data" novalidate>
    {{ form.hidden_tag() }}
    {{ recipe_form(form, show_images=True) }}
    {% for field in form %}
        {% for error in field.errors %}
            <div class="alert alert-danger">{{ error }}</div>
        {% endfor %}
    {% endfor %}
    <button type="submit" class="btn btn-primary">Добавить</button>
</form>
{% endblock %}

{% block extra_js %}
<script src="https://unpkg.com/easymde/dist/easymde.min.js"></script>
<script>
    new EasyMDE({ element: document.getElementById("description") });
    new EasyMDE({ element: document.getElementById("ingredients") });
    new EasyMDE({ element: document.getElementById("steps") });
</script>
{% endblock %}
